```cpp 



```




Explicația Codului
Inițializarea Structurilor de Date:

unordered_map<string, string> p: reține părintele fiecărei variabile.
unordered_map<string, double> w: reține greutatea (raportul) de la fiecare variabilă la părintele său.
Construirea Structurii Union-Find:

Pentru fiecare ecuație din equations, inițializăm părinții și greutățile pentru variabilele Ai și Bi.
Apoi, pentru fiecare ecuație, unim seturile variabilelor Ai și Bi. Dacă Ai și Bi nu au același părinte, actualizăm părintele lui Ai și greutatea corespunzătoare.
Evaluarea Întrebărilor:

Pentru fiecare întrebare din queries, verificăm dacă ambele variabile sunt definite și dacă fac parte din același set. Dacă nu, returnăm -1.0. Dacă da, calculăm raportul dintre ele folosind greutățile stocate.
Funcția find:

Funcția find este folosită pentru a găsi rădăcina setului pentru o variabilă și pentru a aplica compresia drumului, ceea ce face ca toate variabilele de-a lungul drumului să pointeze direct la rădăcină, actualizând greutățile corespunzătoare.
Concluzie
Acest algoritm utilizează structura Union-Find pentru a gestiona relațiile dintre variabile și pentru a răspunde eficient la întrebările privind raporturile dintre variabile. Prin inițializarea corectă a părinților și greutăților și prin unirea seturilor pe baza ecuațiilor date, putem determina rapid și eficient raporturile necesare pentru întrebările primite. Algoritmul este robust și asigură că toate relațiile dintre variabile sunt corect gestionate, permițând astfel calcularea corectă a raporturilor sau returnarea valorii -1.0 dacă raportul nu poate fi determinat.