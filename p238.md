```cpp
class Solution {
public:
    vector<int> productExceptSelf(vector<int>& nums) {

        vector<int> answer(nums.size(), 1);
        int i, product1=1, product2=1;

        // I calculate the product of the elements before the current element
        for (i = 0; i < nums.size(); ++i) {
            answer[i] = product1;
            product1 *= nums[i];
        }

        // Calculation of the product of all elements after the current element
        //and we make the product with the previously calculated values
        for (i = nums.size() - 1; i >= 0; --i) {
            answer[i] *= product2;
            product2 *= nums[i];
        }

        return answer;
    }
};
```

Hello and welcome to our Algorithmic course, where we will explore and solve interesting problems on LeetCode.

In this problem, I receive a vector of integers `nums`. I have to return another vector of integer values `answer`, which will contain, in each position, the product of all the values of the string except for the initial value on position `i`.

For `nums = [1,2,3,4]`
`answer = [2*3*4, 1*3*4, 1*2*4, 1*2*3] = [24, 12, 8, 6]`

The intuitive approach of this algorithm would be the following:
--- calculate the product of all string values;
--- I form the new vector so that, on each `i` position of the string, I put the result of dividing the previously calculated product by the `nums[i]` value.

This solution cannot be used here because the statement of the problem explicitly says that I am not allowed to use the division operation, and also it is not guaranteed that the string has only non-zero values. So, if I was to try this algorithm, I would very likely reach the situation of division by zero, which is not allowed.
Taking into account this analysis, the algorithm I will approach will not use the division operation but the multiplication operation.

For each element of `nums`, I will calculate 2 separate products:
--- the product of the elements in front of it, without it
--- the product of the elements after it, without it;
and then I will combine these two products to get the final value that I will insert into the `answer` vector at position `i`.

A step-by-step approach to solve this problem is:
1. Initializing the variables
2. I calculate the product of the elements before the current element
3. I calculate the product of the elements after each current element

So, let's take the steps one at a time.
1. Initializing the variables:

```cpp
    vector<int> answer(nums.size(), 1);
    int i, product1=1, product2=1; 
```

The `answer` is a vector of integer values that will host the final values. In order to not have problems with the multiplication operation, I initialize this integral vector with the value 1.
The counter `i` is necessary for traversing the vector with the help of the repetitive structure `for`, and `product1` and `product2` are 2 integer variables that initially receive the value 1, also because 1 is the neutral element compared to multiplication.
--- `product1` will calculate the product of all the elements before the element at position `i`.
--- `product2` will calculate the product of all elements after the element at position `i`.

2. I calculate the product of the elements before the current element:

```cpp
        for (i = 0; i < nums.size(); ++i) {
            answer[i] = product1;
            product1 *= nums[i];
        }
```

In this loop, for each element in the `nums` vector, I store the value of `product1` in `answer[i]` and then update the value of `product1` by multiplying it by the value at position `i` in the `nums` vector , that is `nums[i]`.
The loop is repeated along the entire length of the `nums` vector. The length of the vector is determined using the `size()` function.

For `nums= [1,2,3,4]`
`answer = [1,1*1,1*2,1*2*3] = [1,1,2,6]`

3. I calculate the product of the elements after each current element:

```cpp
        for (i = nums.size() - 1; i >= 0; --i) {
            answer[i] *= product2;
            product2 *= nums[i];
        }
```

In this step of the algorithm, I enter the `answer` vector already containing the values of the products from step 2.
For each element, I multiply the existing value in `answer[i]` by `product2`, then update `product2` by multiplying it by `nums[i]`.
This time, it is necessary to go through the vector in the opposite direction.


For `nums= [1,2,3,4]` and `answer = [1,1,2,6]`
`answer = [1*24,1*12,2*4,6*1] = [24,12,8,6]`
step1 - `product2=4`
step2 - `product2=12`
step3 - `product2=24`
step4 - `product2=24`

The final result will therefore be retained, value by value, in the `answer` vector that the function will return at the end.
```cpp
        return answer;
```

In short, I calculated the product of all the elements of a vector of integers, except the current element, for each position in the vector, without using the division operation.
To avoid splitting and to respect the constraints of the problem, I calculated two separate products:
--- the product of the elements in front of each element (`product1`);
--- the product of the elements behind each element (`product2`).
The final values that were requested to be returned were obtained by combining the 2 calculated products.

See you in the next video.

**_Verificare daca se vede ce am modificat_**